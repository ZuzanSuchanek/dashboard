<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Osobn√≠ dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main id="dashboard" class="grid"></main>

  <script>
    // seznam widget≈Ø, kter√© chceme naƒç√≠st
    // ka≈æd√Ω widget m≈Ø≈æe m√≠t konfiguraci: { name: 'n√°zev', width: 'full'|'half'|'third' }
    // nebo jednodu≈°e string pro v√Ωchoz√≠ ≈°√≠≈ôku
    const widgets = [
      { name: 'ahoj', width: 'full' },
      { name: 'header', width: 'full' },
      { name: 'clock', width: 'full' },
      { name: 'date', width: 'full' },
      { name: 'weather', width: 'full' },
      { name: 'kalkulacka', width: 'full' },
      { name: 'todo', width: 'full' },
      { name: 'hodiny', width: 'full' },

      
    ];

    async function loadWidgets() {
      const container = document.getElementById('dashboard');
      for (const widgetConfig of widgets) {
        // podpora pro string i objekt
        const widgetName = widgetConfig.name;
        const widgetWidth = widgetConfig.width;
        
        // naƒç√≠st widget
        const res = await fetch(`widgets/${widgetName}.html`);
        const html = await res.text();

        // vytvo≈ôit wrapper pro widget
        const widgetWrapper = document.createElement('div');
        widgetWrapper.className = 'widget';
        
        // p≈ôidat t≈ô√≠du pro ≈°√≠≈ôku, pokud je specifikov√°na
        if (widgetWidth) {
          widgetWrapper.classList.add(widgetWidth);
        }
        
        widgetWrapper.innerHTML = html;
        container.appendChild(widgetWrapper);
        
        // spustit skripty z widgetu
        const scripts = widgetWrapper.querySelectorAll('script');
        scripts.forEach(oldScript => {
          const newScript = document.createElement('script');
          newScript.textContent = oldScript.textContent;
          oldScript.parentNode.replaceChild(newScript, oldScript);
        });
      }
    }
    loadWidgets();
  </script>
</body>
</html>

<style>
  /* vrstva pro animace */
  .funny-bg {
    position: fixed;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
    z-index: -1;
  }

  body {
    background: #ffb3d9;
    margin: 0;
  }
  .full-bg {
    position: fixed;
    inset: 0; /* top 0, right 0, bottom 0, left 0 */
    background-image: url("https://i.redd.it/jeff-the-killer-creepypasta-has-a-legitimately-creepy-v0-86t77n481gsc1.jpg?width=1026&format=pjpg&auto=webp&s=32dcd7fafe1348e47772c83e4e5f64106c482883");
    background-size: cover; /* rozt√°hne p≈ôes celou str√°nku */
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0.2; /* 0.2 = 20 % viditelnost ‚Üí 80 % pr≈Øhlednost */
    z-index: -1; /* aby byl pod dashboardem */
    pointer-events: none; /* neblokuje klik√°n√≠/scroll */
  }

  /* srd√≠ƒçka */
  .heart {
    position: absolute;
    top: -50px;
    color: #ff69b4;
    font-size: 30px;
    animation: fall 5s linear infinite;
  }

  /* t≈ôpytky */
  .sparkle {
    position: absolute;
    top: -20px;
    color: #ffffffaa;
    font-size: 15px;
    animation: fall 6s linear infinite;
  }

  /* hvƒõzdiƒçky */
  .star {
    position: absolute;
    top: -50px;
    color: #ffe066;
    font-size: 25px;
    animation: spinfall 7s linear infinite;
  }

  @keyframes fall {
    0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
  }

  @keyframes spinfall {
    0% { transform: translateY(-50px) rotate(0deg); }
    100% { transform: translateY(110vh) rotate(720deg); }
  }
</style>

<div class="funny-bg" id="funny-bg"></div>

<script>
  const bg = document.getElementById("funny-bg");

  function spawn(className, symbol, count, sizeMin, sizeMax, speedMin, speedMax) {
    for (let i = 0; i < count; i++) {
      let el = document.createElement("div");
      el.className = className;
      el.innerText = symbol;
      el.style.left = Math.random() * 100 + "vw";
      el.style.animationDuration = speedMin + Math.random() * speedMax + "s";
      el.style.fontSize = (sizeMin + Math.random() * sizeMax) + "px";
      bg.appendChild(el);
    }
  }

  // üéÄ 30 srd√≠ƒçek
  spawn("heart", "üíó", 30, 20, 40, 3, 5);

  // ‚ú® 40 t≈ôpytek
  spawn("sparkle", "‚ú®", 40, 10, 20, 3, 4);

  // ‚≠ê 20 hvƒõzdiƒçek
  spawn("star", "‚≠ê", 20, 20, 35, 4, 6);
</script>

<div class="full-bg"></div>
