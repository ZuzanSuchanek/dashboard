<div class="weather-widget"> 
<div class="weather-city">Načítám...</div> 
<div class="weather-temp" id="weather-temp">--°C</div> 
<div class="weather-desc" id="weather-desc">Načítám...</div> 
</div> 

<script> 
(function () { 
const tempEl = document.getElementById('weather-temp'); 
const descEl = document.getElementById('weather-desc'); 
const cityEl = document.querySelector('.weather-city'); 

const lat = 49.06972; 
const long = 17.45972;

const weatherUrl = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${long}&current_weather=true`; 
fetch(weatherUrl) 
.then(response => response.json()) 
.then(data => { 
const temp = data.current_weather.temperature; 
const code = data.current_weather.weathercode; 
tempEl.textContent = `${temp}°C`; 
descEl.textContent = getWeatherDescription(code); 
}); 

const geoUrl = `https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${long}&localityLanguage=cs`; 
fetch(geoUrl) 
.then(response => response.json()) 
.then(data => { 
cityEl.textContent = data.city || data.locality || 'Neznámé místo'; 
}); 

function getWeatherDescription(code) { 
if (code === 0) return 'Jasno'; 
if (code >= 1 && code <= 3) return 'Polojasno'; 
if (code >= 45 && code <= 48) return 'Mlha'; 
if (code >= 51 && code <= 67) return 'Déšť'; 
if (code >= 71 && code <= 77) return 'Sníh'; 
if (code >= 95) return 'Bouřka'; 
return 'Neznámé'; 
} 

})(); 
</script>

<style>
.weather-widget {
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 10px 20px;
    
}

.weather-city {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 5px;
}

.weather-temp {
    font-size: 40px;
    font-weight: 700;
    margin: 0;
}

.weather-desc {
    font-size: 14px;
    color: #555;
    margin-top: 5px;
}
</style>
